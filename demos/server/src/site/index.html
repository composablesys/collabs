<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />

    <title>Collabs Demos</title>
  </head>

  <body>
    <h3>Collabs Demos</h3>

    <table id="containerTable"></table>

    <script>
      // Map: file name to title
      const containers = [
        ...Object.entries({
          "counter/dist/counter.html": "Counter",
          "whiteboard/dist/whiteboard.html": "Whiteboard",
          "plaintext/dist/plaintext.html": "Plain text editor",
          "rich-text/dist/rich_text.html": "Rich text editor",
          "rich-text-yata/dist/rich_text_yata.html":
            "Rich text editor -<br />YATA + semidirect (experimental)",
          "group/dist/group.html":
            "Shapes - multiple<br />semidirect (experimental)",
          "tile-board/dist/tile_board.html": "Tile Board<br />(experimental)",
          "aspace/dist/aspace.html": "A Space",
          "minesweeper/dist/minesweeper.html": "Minesweeper",
          "horse-color-genetics/dist/standalone/horse-color-genetics.html":
            "Horse color genetics -<br />standalone",
          "horse-color-genetics/dist/multi/horse-color-genetics.html":
            "Horse color genetics -<br /> multi-file",
          "selector/dist/selector.html": "Container selector",
        }),
      ];

      const table = document.getElementById("containerTable");
      {
        // Demo row
        const tr = table.insertRow();
        const header = tr.insertCell();
        header.innerHTML = "<b>Demo</b>";
        for (let x = 0; x < containers.length; x++) {
          const td = tr.insertCell();
          td.innerHTML = `<a href="web_socket.html?container=demos/${containers[x][0]}">${containers[x][1]}</a>`;
        }
      }
      {
        // Download row
        const tr = table.insertRow();
        const header = tr.insertCell();
        header.innerHTML = "<b>Downloadable file</b>";
        for (let x = 0; x < containers.length; x++) {
          const td = tr.insertCell();
          td.innerHTML = `<a href="demos/${containers[x][0]}" download>${containers[x][1]}</a>`;
        }
      }
    </script>

    <p></p>
    <h3>Use in Matrix Widgets</h3>
    In a widget-aware <a href="https://matrix.org/">Matrix</a> client (e.g.
    <a href="https://app.element.io/">Element Web</a>): Send the message
    <br /><br /><tt
      >/addwidget
      https://compoventuals-tests.herokuapp.com/host.html?network=matrix&container=demos/selector/dist/selector.html</tt
    ><br /><br />
    Click "Room Info" in the top-right, then select "Custom Widget".<br />Finally,
    enter the URL (or upload a copy) of a link from the "Downloadable file"
    row.<br /><br />
    (Shortcut: replace <tt>selector/dist/selector.html</tt> with the demo file's
    path in the above command.)

    <p></p>
    <h3>Server admin</h3>
    <p>
      <a href="reset.html">Reset message history</a>
    </p>
  </body>
</html>
