<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />

    <title>Testing out bundle</title>
  </head>

  <body>
    <h3>Container-based demos</h3>

    <table id="containerTable"></table>

    <script>
      const networks = [
        ...Object.entries({
          ws: "WebSocket server",
          matrix: "Matrix widget",
        }),
      ];
      const containers = [
        ...Object.entries({
          counter: "Counter",
          whiteboard: "Whiteboard",
          minesweeper: "Minesweeper",
          aspace: "A Space",
          rich_text: "Rich text editor",
          rich_text_yata: "Rich text editor (experimental YATA + semidirect)",
          plaintext: "Plain text editor",
        }),
      ];

      const table = document.getElementById("containerTable");
      // TODO: add sandbox=true entry
      for (const sandbox of [false]) {
        for (let y = 0; y < networks.length; y++) {
          const tr = table.insertRow();
          for (let x = -2; x < containers.length; x++) {
            const td = tr.insertCell();
            if (x === -2) {
              // Header column
              // td.innerHTML = `<b>${networks[y][0]} (${
              //   sandbox ? "Sandbox" : "Plain"
              // })</b>`;
              td.innerHTML = `<b>${networks[y][0]}</b>`;
            } else if (x === -1) {
              // Selector column
              td.innerHTML = `<a href="hosts/${
                sandbox ? "selector_sandbox" : "selector"
              }.html?network=${networks[y][0]}">Selector</a>`;
            } else {
              td.innerHTML = `<a href="hosts/${
                sandbox ? "plain_sandbox" : "plain"
              }.html?network=${networks[y][0]}&container=../containers/${
                containers[x][0]
              }.html">${containers[x][1]}</a>`;
            }
          }
        }
      }
      // Download row
      const tr = table.insertRow();
      const header = tr.insertCell();
      header.innerHTML =
        "<b>Downloadable file</b><br />(right click -><br /> Save Link As...)";
      tr.insertCell();
      for (let x = 0; x < containers.length; x++) {
        const td = tr.insertCell();
        td.innerHTML = `<a href="../containers/${containers[x][0]}.html">${containers[x][1]}</a>`;
      }
    </script>

    <p></p>
    <h3>Non-container demos</h3>
    <a href="non_container_demos/counter_ws.html">Counter (WebSocket server)</a>
    <a href="non_container_demos/counter_webrtc.html">Counter (WebRTC)</a>
    <a href="non_container_demos/counter_matrix.html"
      >Counter (Matrix widget)</a
    >

    <p></p>
    <h3>Server admin</h3>
    <p>
      <a href="reset.html">Reset message history</a>
    </p>
  </body>
</html>
